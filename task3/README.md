## Анализ архитектурных проблем и рисков

1. Увеличение времени ответа ins-product-aggregator

- Скорость ответа от ins-product-aggregator зависит от скорости ответа всех внешних API страховых компаний. Повышение количества страховых компаний влияет на latency.
- Учитывая, что интеграции core-app и ins-comp-settlement с ins-product-aggregator синхронные, то могут возникать ошибки, например, timeout.

2. Несогласованность данных между сервисами core-app и ins-comp-settlement

- Обновление core-app каждые 15 минут, а ins-comp-settlement - каждые сутки, соответственно существуют расхождения в тарифах и продуктах, что может привести к ошибкам и перерасчетам.

3. Тяжелые запросы с высокой вероятностью потери данных

- Ночные запросы между сервисами, которые перегружают данные за сутки могут быть слишком тяжелыми для REST или падать, если в каких-то объектах будут ошибки => высокая вероятность с ростом числа клиентов начать терять данные.

4. Высокая связность сверсисов из-за синхронных интеграций

- Сервисы напрямую зависят от реализации ins-product-aggregator и друг друга
- Любое изменение формата данных или логики требует значительных усилий и дополнительных доработок

5. Слабая отказоустойчивость и готовность к горизонтальному масштабированию

- Повышенные риски каскадных сбоев из-за синхронных интеграций
- Сложные механизмы синхронизации данных при горизонтальном масштабировании
- Работа по сбору данных не отделена от работы по их предоставлению



